<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- bootstrap css cdn -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- title -->
    <title>ITS passwor dgenerator</title>

    <style>
      body {
        background-color: #f1f6f9;
      }
    </style>
  </head>

  <body>
    <!-- input----- -->
    <section class="p-5">
      <h3 class="text-center mb-4">ITS Password Generator App</h3>
      <div class="container">
        <div class="row justify-content-center align-content-center">
          <!-- col-1 -->
          <div class="col-md-6">
            <form action="{{url_for('password')}}" method="POST">
              <div class="input-group mb-3">
                <input
                  type="number"
                  value="8"
                  name="password_length"
                  class="form-control"
                  placeholder="Password Length"
                  aria-label="Password Length"
                  aria-describedby="button-addon2"
                  id="myInput"
                />
                <button
                  class="btn btn-primary btn-md"
                  type="submit"
                  id="button-addon2"
                >
                  Generate Password
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- password output -->
    <section class="p-5">
      <h3 class="text-center mb-4">Password</h3>
      <div class="container">
        <div class="row align-content-center justify-content-center">
          <!-- col-1 -->
          <div class="col-md-6">
            <div class="card bg-white position-relative p-5">
              <div class="card-body">
                <div class="card-text">
                  {% if 'length' in gen_pas %}
                  <h2 class="text-center text-success">{{gen_pas}}</h2>
                  {% elif 'Wrong' in gen_pas %}
                  <h2 class="text-center text-danger">{{gen_pas}}</h2>
                  {% elif gen_pas %}
                  <h2 class="text-dark text-center">{{gen_pas}}</h2>
                  {% endif %}

                  <!-- https://stackoverflow.com/a/50404501/15235273 -->
                  <!-- helped remove bootstrap button shadow -->
                  <span
                    class="
                      tt
                      position-absolute
                      top-0
                      end-0
                      mt-2
                      me-2
                      changeText
                    "
                    data-bs-placement="top"
                    title="Copy to clipboard"
                    ><button
                      class="
                        btn btn-outline-primary btn-sm
                        shadow-none
                        copy
                        mt-0
                      "
                    >
                      copy
                    </button></span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- bootstrap  js cdn -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>

    <!-- bootstrap  js cdn -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>

    <!-- jquery google cdn -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- to enable tool tip -->
    <script>
      const tooltips = document.querySelectorAll(".tt");
      tooltips.forEach((t) => {
        new bootstrap.Tooltip(t);
      });
    </script>

    <!-- my js -->
    <!-- https://stackoverflow.com/a/14711572/15235273 -->
    <!-- helped with linking the js file -->
    <!-- <script src="{{ url_for('static', filename='js/index.js') }}"></script> -->
    <script>
      var viewClass = document.querySelector(".changeText");
      var btn = document.querySelector(".copy");
      var text = document.querySelector("h2");
      btn.addEventListener("click", function () {
        // https://codepen.io/bharatramnani94/post/copy-text-to-clipboard-using-vanilla-javascript
        // helped with clipboard script

        var textToCopy = text.innerText;
        var myTemporaryInputElement = document.createElement("input");
        myTemporaryInputElement.type = "text";
        myTemporaryInputElement.value = textToCopy;
        document.body.appendChild(myTemporaryInputElement);
        myTemporaryInputElement.select();
        document.execCommand("Copy");
        document.body.removeChild(myTemporaryInputElement);
      });
    </script>
  </body>
</html>
